{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/tan/Desktop/FUNiX/Mo\\u0302n 5/Assignment/ASM3/ASM3 Front-end/src/Detail/Detail.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; // import ProductAPI from \"../API/ProductAPI\";\n\nimport { Link, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport alertify from \"alertifyjs\";\nimport { addCart } from \"../Redux/Action/ActionCart\";\nimport CartAPI from \"../API/CartAPI\";\nimport queryString from \"query-string\"; // import CommentAPI from \"../API/CommentAPI\";\n\nimport convertMoney from \"../convertMoney\";\nimport axios from \"axios\";\n\nfunction Detail(props) {\n  _s();\n\n  const [detail, setDetail] = useState({});\n  const dispatch = useDispatch(); //id params cho từng sản phẩm\n\n  const {\n    id\n  } = useParams(); //   console.log(\"id-->\", id);\n  //id_user được lấy từ redux\n\n  const id_user = useSelector(state => {\n    // console.log(\"state-->\", state);\n    return state.Cart.id_user;\n  }); // console.log(\"id_user-->\", id_user);\n  //listCart được lấy từ redux\n\n  const listCart = useSelector(state => state.Cart.listCart); // console.log(\"listCart-->\", listCart);\n\n  const [product, setProduct] = useState([]); // id_user đã đăng nhập\n\n  const idUser = useSelector(state => state.Session.idUser);\n  useEffect(() => {\n    //Hàm này để lấy dữ liệu chi tiết sản phẩm\n    const getProductDetail = async () => {\n      const res = await axios.get(`http://localhost:3500/api/product/${id}`);\n      const response = res && res.data ? res.data : [];\n      setDetail(response); // console.log(\"res-->\", res);\n    }; //Hàm này gọi API và cắt chỉ lấy 4 sản phẩm\n\n\n    const getAllProducts = async () => {\n      const res = await axios.get(\"http://localhost:3500/api/product/getAllProducts\");\n      const data = res && res.data ? res.data : [];\n      setProduct(data); //   console.log(\"res-->\", data);\n    };\n\n    getProductDetail();\n    getAllProducts();\n  }, [id]); //Phần này là để thay đổi số lượng khi mua sản phẩm\n\n  const [text, setText] = useState(1);\n\n  const onChangeText = e => {\n    setText(e.target.value);\n  }; //Tăng lên 1 đơn vị\n\n\n  const upText = () => {\n    const value = parseInt(text) + 1;\n    setText(value);\n  }; //Giảm 1 đơn vị\n\n\n  const downText = () => {\n    const value = parseInt(text) - 1;\n    if (value === 0) return;\n    setText(value);\n  }; //Phần này dùng để xem review hay description\n\n\n  const [review, setReview] = useState(\"description\");\n\n  const handlerReview = value => {\n    setReview(value);\n  }; //Hàm này là Thêm Sản Phẩm\n\n\n  const addToCart = () => {\n    let id_user_cart = \"\";\n\n    if (localStorage.getItem(\"id_user\")) {\n      id_user_cart = localStorage.getItem(\"id_user\");\n    } else {\n      id_user_cart = id_user;\n    } // console.log(\"id_user_cart-->\", id_user_cart);\n\n\n    const data = {\n      idUser: id_user_cart,\n      idProduct: detail._id,\n      nameProduct: detail.name,\n      priceProduct: detail.price,\n      count: text,\n      img: detail.img1\n    };\n    const action = addCart(data); // const actionAddUser = addUser(data.idUser);\n    // console.log(\"action-->\", action);\n\n    dispatch(action); // console.log(\"data-->\", data);\n    // console.log(\"x-->\", localStorage.getItem(\"id_user\"));\n\n    if (localStorage.getItem(\"id_user\")) {\n      console.log(\"Bạn Đã Đăng Nhập!\");\n\n      const fetchPost = async () => {\n        const params = {\n          idUser: id_user_cart,\n          //localStorage.getItem('id_user')\n          idProduct: detail._id,\n          // Lấy idProduct\n          count: text // Lấy số lượng\n\n        }; // console.log(\"params-->\", params);\n\n        const query = \"?\" + queryString.stringify(params); // console.log(\"query-->\", query);\n\n        const response = await CartAPI.postAddToCart(query);\n        console.log(\"response-->\", response); // const action = addCart(data);\n        // console.log(\"action-->\", action);\n        // dispatch(action);\n      };\n\n      fetchPost();\n    } else {\n      // const action = addCart(data);\n      // console.log(\"action-->\", action);\n      // dispatch(action);\n      window.location.href(\"/signin\");\n    }\n\n    alertify.set(\"notifier\", \"position\", \"bottom-left\");\n    alertify.success(\"Bạn Đã Thêm Hàng Thành Công!\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"py-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mb-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row m-sm-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-2 p-sm-0 order-2 order-sm-1 mt-2 mt-sm-0\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"owl-thumbs d-flex flex-row flex-sm-column\",\n                \"data-slider-id\": \"1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"w-100\",\n                    src: detail.img1,\n                    alt: \"...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"w-100\",\n                    src: detail.img2,\n                    alt: \"...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"w-100\",\n                    src: detail.img3,\n                    alt: \"...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"w-100\",\n                    src: detail.img4,\n                    alt: \"...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"carouselExampleControls\",\n              className: \"carousel slide col-sm-10 order-1 order-sm-2\",\n              \"data-ride\": \"carousel\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"carousel-inner owl-carousel product-slider\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"carousel-item active\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"d-block w-100\",\n                    src: detail.img1,\n                    alt: \"First slide\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"carousel-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"d-block w-100\",\n                    src: detail.img2,\n                    alt: \"Second slide\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"carousel-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"d-block w-100\",\n                    src: detail.img3,\n                    alt: \"Third slide\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"carousel-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"d-block w-100\",\n                    src: detail.img4,\n                    alt: \"Third slide\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"carousel-control-prev\",\n                href: \"#carouselExampleControls\",\n                role: \"button\",\n                \"data-slide\": \"prev\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"carousel-control-prev-icon\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: \"Previous\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"carousel-control-next\",\n                href: \"#carouselExampleControls\",\n                role: \"button\",\n                \"data-slide\": \"next\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"carousel-control-next-icon\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: \"Next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: detail.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted lead\",\n            children: [convertMoney(detail.price), \" VND\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-small mb-4\",\n            children: detail.short_desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-unstyled small d-inline-block\",\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"mb-3 bg-white text-muted\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-uppercase text-dark\",\n                children: \"Category:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"reset-anchor ml-2\",\n                children: [detail.category, \"s\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row align-items-stretch mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-5 pr-sm-0\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border d-flex align-items-center justify-content-between py-1 px-3 bg-white border-white\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"small text-uppercase text-gray mr-4 no-select\",\n                  children: \"Number of orders\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"quantity\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"dec-btn p-0\",\n                    style: {\n                      cursor: \"pointer\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-caret-left\",\n                      onClick: downText\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control border-0 shadow-0 p-0\",\n                    type: \"text\",\n                    value: text,\n                    onChange: onChangeText\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"inc-btn p-0\",\n                    style: {\n                      cursor: \"pointer\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-caret-right\",\n                      onClick: upText\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-3 pl-sm-0\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/cart\",\n                className: \"btn btn-dark btn-sm btn-block d-flex align-items-center justify-content-center px-0 text-white\",\n                onClick: addToCart,\n                children: \"Add to cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-unstyled small d-inline-block\",\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"mb-3 bg-white text-muted\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-uppercase text-dark\",\n                children: \"The remaining amount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"reset-anchor ml-2\",\n                children: detail.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"nav nav-tabs border-0\",\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"nav-item\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"nav-link fix_comment\",\n            onClick: () => handlerReview(\"description\"),\n            style: review === \"description\" ? {\n              backgroundColor: \"#383838\",\n              color: \"#ffffff\"\n            } : {\n              color: \"#383838\"\n            },\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-content mb-5\",\n        children: review === \"description\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-pane fade show active\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-4 pb-4 bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-uppercase\",\n              children: \"Product description \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted text-small mb-0\",\n              style: {\n                whiteSpace: \"pre-wrap\"\n              },\n              children: detail.long_desc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-pane fade show active\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 p-lg-5 bg-white\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"h5 text-uppercase mb-4\",\n        children: \"Related products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: product && product.filter(el => el.category === detail.category && el._id !== detail._id).map(value => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-3 col-sm-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product text-center skel-loader\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-block mb-3 position-relative\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: `/detail/${value._id}`,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"img-fluid w-100\",\n                  src: value.img1,\n                  alt: \"...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-overlay\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"mb-0 list-inline\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"reset-anchor\",\n                to: `/detail/${value._id}`,\n                children: value.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"small text-muted\",\n              children: [convertMoney(value.price), \" VND\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 19\n          }, this)\n        }, value._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Detail, \"NBhflOrbgnZVbF7ymO7ChqLynsM=\", false, function () {\n  return [useDispatch, useParams, useSelector, useSelector, useSelector];\n});\n\n_c = Detail;\nexport default Detail;\n\nvar _c;\n\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"sources":["/Users/tan/Desktop/FUNiX/Môn 5/Assignment/ASM3/ASM3 Front-end/src/Detail/Detail.jsx"],"names":["React","useEffect","useState","Link","useParams","useDispatch","useSelector","alertify","addCart","CartAPI","queryString","convertMoney","axios","Detail","props","detail","setDetail","dispatch","id","id_user","state","Cart","listCart","product","setProduct","idUser","Session","getProductDetail","res","get","response","data","getAllProducts","text","setText","onChangeText","e","target","value","upText","parseInt","downText","review","setReview","handlerReview","addToCart","id_user_cart","localStorage","getItem","idProduct","_id","nameProduct","name","priceProduct","price","count","img","img1","action","console","log","fetchPost","params","query","stringify","postAddToCart","window","location","href","set","success","img2","img3","img4","short_desc","category","cursor","quantity","backgroundColor","color","whiteSpace","long_desc","filter","el","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n// import ProductAPI from \"../API/ProductAPI\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport alertify from \"alertifyjs\";\nimport { addCart } from \"../Redux/Action/ActionCart\";\nimport CartAPI from \"../API/CartAPI\";\nimport queryString from \"query-string\";\n// import CommentAPI from \"../API/CommentAPI\";\nimport convertMoney from \"../convertMoney\";\nimport axios from \"axios\";\n\nfunction Detail(props) {\n  const [detail, setDetail] = useState({});\n\n  const dispatch = useDispatch();\n\n  //id params cho từng sản phẩm\n  const { id } = useParams();\n\n  //   console.log(\"id-->\", id);\n\n  //id_user được lấy từ redux\n  const id_user = useSelector((state) => {\n    // console.log(\"state-->\", state);\n    return state.Cart.id_user;\n  });\n  // console.log(\"id_user-->\", id_user);\n\n  //listCart được lấy từ redux\n  const listCart = useSelector((state) => state.Cart.listCart);\n  // console.log(\"listCart-->\", listCart);\n\n  const [product, setProduct] = useState([]);\n\n  // id_user đã đăng nhập\n  const idUser = useSelector((state) => state.Session.idUser);\n\n  useEffect(() => {\n    //Hàm này để lấy dữ liệu chi tiết sản phẩm\n    const getProductDetail = async () => {\n      const res = await axios.get(`http://localhost:3500/api/product/${id}`);\n      const response = res && res.data ? res.data : [];\n      setDetail(response);\n      // console.log(\"res-->\", res);\n    };\n    //Hàm này gọi API và cắt chỉ lấy 4 sản phẩm\n    const getAllProducts = async () => {\n      const res = await axios.get(\n        \"http://localhost:3500/api/product/getAllProducts\"\n      );\n      const data = res && res.data ? res.data : [];\n      setProduct(data);\n      //   console.log(\"res-->\", data);\n    };\n    getProductDetail();\n    getAllProducts();\n  }, [id]);\n\n  //Phần này là để thay đổi số lượng khi mua sản phẩm\n  const [text, setText] = useState(1);\n  const onChangeText = (e) => {\n    setText(e.target.value);\n  };\n\n  //Tăng lên 1 đơn vị\n  const upText = () => {\n    const value = parseInt(text) + 1;\n\n    setText(value);\n  };\n\n  //Giảm 1 đơn vị\n  const downText = () => {\n    const value = parseInt(text) - 1;\n\n    if (value === 0) return;\n\n    setText(value);\n  };\n\n  //Phần này dùng để xem review hay description\n  const [review, setReview] = useState(\"description\");\n  const handlerReview = (value) => {\n    setReview(value);\n  };\n\n  //Hàm này là Thêm Sản Phẩm\n  const addToCart = () => {\n    let id_user_cart = \"\";\n\n    if (localStorage.getItem(\"id_user\")) {\n      id_user_cart = localStorage.getItem(\"id_user\");\n    } else {\n      id_user_cart = id_user;\n    }\n\n    // console.log(\"id_user_cart-->\", id_user_cart);\n\n    const data = {\n      idUser: id_user_cart,\n      idProduct: detail._id,\n      nameProduct: detail.name,\n      priceProduct: detail.price,\n      count: text,\n      img: detail.img1,\n    };\n\n    const action = addCart(data);\n    // const actionAddUser = addUser(data.idUser);\n    // console.log(\"action-->\", action);\n    dispatch(action);\n    // console.log(\"data-->\", data);\n    // console.log(\"x-->\", localStorage.getItem(\"id_user\"));\n\n    if (localStorage.getItem(\"id_user\")) {\n      console.log(\"Bạn Đã Đăng Nhập!\");\n\n      const fetchPost = async () => {\n        const params = {\n          idUser: id_user_cart, //localStorage.getItem('id_user')\n          idProduct: detail._id, // Lấy idProduct\n          count: text, // Lấy số lượng\n        };\n\n        // console.log(\"params-->\", params);\n\n        const query = \"?\" + queryString.stringify(params);\n\n        // console.log(\"query-->\", query);\n\n        const response = await CartAPI.postAddToCart(query);\n        console.log(\"response-->\", response);\n        // const action = addCart(data);\n        // console.log(\"action-->\", action);\n        // dispatch(action);\n      };\n      fetchPost();\n    } else {\n      // const action = addCart(data);\n      // console.log(\"action-->\", action);\n      // dispatch(action);\n      window.location.href(\"/signin\");\n    }\n\n    alertify.set(\"notifier\", \"position\", \"bottom-left\");\n    alertify.success(\"Bạn Đã Thêm Hàng Thành Công!\");\n  };\n\n  return (\n    <section className=\"py-5\">\n      <div className=\"container\">\n        <div className=\"row mb-5\">\n          <div className=\"col-lg-6\">\n            <div className=\"row m-sm-0\">\n              <div className=\"col-sm-2 p-sm-0 order-2 order-sm-1 mt-2 mt-sm-0\">\n                <div\n                  className=\"owl-thumbs d-flex flex-row flex-sm-column\"\n                  data-slider-id=\"1\"\n                >\n                  <div className=\"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\">\n                    <img className=\"w-100\" src={detail.img1} alt=\"...\" />\n                  </div>\n                  <div className=\"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\">\n                    <img className=\"w-100\" src={detail.img2} alt=\"...\" />\n                  </div>\n                  <div className=\"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\">\n                    <img className=\"w-100\" src={detail.img3} alt=\"...\" />\n                  </div>\n                  <div className=\"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\">\n                    <img className=\"w-100\" src={detail.img4} alt=\"...\" />\n                  </div>\n                </div>\n              </div>\n\n              <div\n                id=\"carouselExampleControls\"\n                className=\"carousel slide col-sm-10 order-1 order-sm-2\"\n                data-ride=\"carousel\"\n              >\n                <div className=\"carousel-inner owl-carousel product-slider\">\n                  <div className=\"carousel-item active\">\n                    <img\n                      className=\"d-block w-100\"\n                      src={detail.img1}\n                      alt=\"First slide\"\n                    />\n                  </div>\n                  <div className=\"carousel-item\">\n                    <img\n                      className=\"d-block w-100\"\n                      src={detail.img2}\n                      alt=\"Second slide\"\n                    />\n                  </div>\n                  <div className=\"carousel-item\">\n                    <img\n                      className=\"d-block w-100\"\n                      src={detail.img3}\n                      alt=\"Third slide\"\n                    />\n                  </div>\n                  <div className=\"carousel-item\">\n                    <img\n                      className=\"d-block w-100\"\n                      src={detail.img4}\n                      alt=\"Third slide\"\n                    />\n                  </div>\n                </div>\n                <a\n                  className=\"carousel-control-prev\"\n                  href=\"#carouselExampleControls\"\n                  role=\"button\"\n                  data-slide=\"prev\"\n                >\n                  <span\n                    className=\"carousel-control-prev-icon\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  <span className=\"sr-only\">Previous</span>\n                </a>\n                <a\n                  className=\"carousel-control-next\"\n                  href=\"#carouselExampleControls\"\n                  role=\"button\"\n                  data-slide=\"next\"\n                >\n                  <span\n                    className=\"carousel-control-next-icon\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  <span className=\"sr-only\">Next</span>\n                </a>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-lg-6\">\n            <br></br>\n            <h1>{detail.name}</h1>\n            <br></br>\n            <p className=\"text-muted lead\">{convertMoney(detail.price)} VND</p>\n            <br></br>\n            <p className=\"text-small mb-4\">{detail.short_desc}</p>\n            <ul className=\"list-unstyled small d-inline-block\">\n              <li className=\"mb-3 bg-white text-muted\">\n                <strong className=\"text-uppercase text-dark\">Category:</strong>\n                <a className=\"reset-anchor ml-2\">{detail.category}s</a>\n              </li>\n            </ul>\n            <div className=\"row align-items-stretch mb-4\">\n              <div className=\"col-sm-5 pr-sm-0\">\n                <div className=\"border d-flex align-items-center justify-content-between py-1 px-3 bg-white border-white\">\n                  <span className=\"small text-uppercase text-gray mr-4 no-select\">\n                    Number of orders\n                  </span>\n                  <div className=\"quantity\">\n                    <button\n                      className=\"dec-btn p-0\"\n                      style={{ cursor: \"pointer\" }}\n                    >\n                      <i className=\"fas fa-caret-left\" onClick={downText}></i>\n                    </button>\n                    <input\n                      className=\"form-control border-0 shadow-0 p-0\"\n                      type=\"text\"\n                      value={text}\n                      onChange={onChangeText}\n                    />\n                    <button\n                      className=\"inc-btn p-0\"\n                      style={{ cursor: \"pointer\" }}\n                    >\n                      <i className=\"fas fa-caret-right\" onClick={upText}></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-sm-3 pl-sm-0\">\n                <a\n                  href=\"/cart\"\n                  className=\"btn btn-dark btn-sm btn-block d-flex align-items-center justify-content-center px-0 text-white\"\n                  onClick={addToCart}\n                >\n                  Add to cart\n                </a>\n              </div>\n\n              <br></br>\n              <br></br>\n            </div>\n            <ul className=\"list-unstyled small d-inline-block\">\n              <li className=\"mb-3 bg-white text-muted\">\n                <strong className=\"text-uppercase text-dark\">\n                  The remaining amount:\n                </strong>\n                <a className=\"reset-anchor ml-2\">{detail.quantity}</a>\n              </li>\n            </ul>\n          </div>\n        </div>\n        {/* <div className='form-group'>\n\t\t\t\t\t<label htmlFor='exampleFormControlTextarea1'>Comment:</label>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\trows='3'\n\t\t\t\t\t\tonChange={onChangeComment}\n\t\t\t\t\t\tvalue={comment}></textarea>\n\t\t\t\t</div> */}\n        {/* <div className='d-flex justify-content-between'>\n\t\t\t\t\t<div className='d-flex w-25'>\n\t\t\t\t\t\t<span className='mt-2'>Evaluate: </span>\n\t\t\t\t\t\t&nbsp; &nbsp;\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='form-control w-25'\n\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\tmin='1'\n\t\t\t\t\t\t\tmax='5'\n\t\t\t\t\t\t\tvalue={star}\n\t\t\t\t\t\t\tonChange={onChangeStar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t&nbsp; &nbsp;\n\t\t\t\t\t\t<span className='mt-2'>Star</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName='btn btn-dark btn-sm btn-block px-0 text-white'\n\t\t\t\t\t\t\tstyle={{ width: '12rem' }}\n\t\t\t\t\t\t\tonClick={handlerComment}>\n\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div> */}\n        <br />\n        <ul className=\"nav nav-tabs border-0\">\n          <li className=\"nav-item\">\n            <a\n              className=\"nav-link fix_comment\"\n              onClick={() => handlerReview(\"description\")}\n              style={\n                review === \"description\"\n                  ? { backgroundColor: \"#383838\", color: \"#ffffff\" }\n                  : { color: \"#383838\" }\n              }\n            >\n              Description\n            </a>\n          </li>\n          {/* <li className='nav-item'>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName='nav-link fix_comment'\n\t\t\t\t\t\t\tonClick={() => handlerReview('review')}\n\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\treview === 'review'\n\t\t\t\t\t\t\t\t\t? { backgroundColor: '#383838', color: '#ffffff' }\n\t\t\t\t\t\t\t\t\t: { color: '#383838' }\n\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\tReviews\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li> */}\n        </ul>\n        <div className=\"tab-content mb-5\">\n          {review === \"description\" ? (\n            <div className=\"tab-pane fade show active\">\n              <div className=\"pt-4 pb-4 bg-white\">\n                <h6 className=\"text-uppercase\">Product description </h6>\n                <br></br>\n                <p\n                  className=\"text-muted text-small mb-0\"\n                  style={{ whiteSpace: \"pre-wrap\" }}\n                >\n                  {detail.long_desc}\n                </p>\n              </div>\n            </div>\n          ) : (\n            <div className=\"tab-pane fade show active\">\n              <div className=\"p-4 p-lg-5 bg-white\">\n                <div className=\"row\">\n                  {/* <div className=\"col-lg-8\">\n                    {list_comment &&\n                      list_comment.map((value) => (\n                        <div className=\"media mb-3\" key={value._id}>\n                          <img\n                            className=\"rounded-circle\"\n                            src=\"https://img.icons8.com/color/36/000000/administrator-male.png\"\n                            alt=\"\"\n                            width=\"50\"\n                          />\n                          <div className=\"media-body ml-3\">\n                            <h6 className=\"mb-0 text-uppercase\">\n                              {value.fullname}\n                            </h6>\n                            <p className=\"small text-muted mb-0 text-uppercase\">\n                              dd/mm/yyyy\n                            </p>\n                            <ul className=\"list-inline mb-1 text-xs\">\n                              <li className=\"list-inline-item m-0\">\n                                <i className={value.star1}></i>\n                              </li>\n                              <li className=\"list-inline-item m-0\">\n                                <i className={value.star2}></i>\n                              </li>\n                              <li className=\"list-inline-item m-0\">\n                                <i className={value.star3}></i>\n                              </li>\n                              <li className=\"list-inline-item m-0\">\n                                <i className={value.star4}></i>\n                              </li>\n                              <li className=\"list-inline-item m-0\">\n                                <i className={value.star5}></i>\n                              </li>\n                            </ul>\n                            <p className=\"text-small mb-0 text-muted\">\n                              {value.content}\n                            </p>\n                          </div>\n                        </div>\n                      ))}\n                  </div> */}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n        <h2 className=\"h5 text-uppercase mb-4\">Related products</h2>\n        <div className=\"row\">\n          {product &&\n            product\n              .filter(\n                (el) => el.category === detail.category && el._id !== detail._id\n              )\n              .map((value) => (\n                <div className=\"col-lg-3 col-sm-6\" key={value._id}>\n                  <div className=\"product text-center skel-loader\">\n                    <div className=\"d-block mb-3 position-relative\">\n                      <Link to={`/detail/${value._id}`}>\n                        <img\n                          className=\"img-fluid w-100\"\n                          src={value.img1}\n                          alt=\"...\"\n                        />\n                      </Link>\n                      <div className=\"product-overlay\">\n                        <ul className=\"mb-0 list-inline\"></ul>\n                      </div>\n                    </div>\n                    <h6>\n                      <Link\n                        className=\"reset-anchor\"\n                        to={`/detail/${value._id}`}\n                      >\n                        {value.name}\n                      </Link>\n                    </h6>\n                    <p className=\"small text-muted\">\n                      {convertMoney(value.price)} VND\n                    </p>\n                  </div>\n                </div>\n              ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}