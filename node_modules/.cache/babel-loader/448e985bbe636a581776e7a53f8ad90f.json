{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/tan/Desktop/FUNiX/Mo\\u0302n 5/Assignment/ASM3/ASM3 Front-end/src/Authentication/SignUp.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport UserAPI from \"../API/UserAPI\";\nimport \"./Auth.css\";\nimport queryString from \"query-string\";\nimport MessengerAPI from \"../API/MessengerAPI\";\nSignUp.propTypes = {};\n\nfunction SignUp(props) {\n  _s();\n\n  const [fullname, setFullName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [errorEmail, setEmailError] = useState(false);\n  const [emailRegex, setEmailRegex] = useState(false);\n  const [errorPassword, setPasswordError] = useState(false);\n  const [errorFullname, setFullnameError] = useState(false);\n  const [errorPhone, setPhoneError] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const onChangeName = e => {\n    setFullName(e.target.value);\n  };\n\n  const onChangeEmail = e => {\n    setEmail(e.target.value);\n  };\n\n  const onChangePassword = e => {\n    setPassword(e.target.value);\n  };\n\n  const onChangePhone = e => {\n    setPhone(e.target.value);\n  };\n\n  const handlerSignUp = e => {\n    e.preventDefault();\n\n    if (!fullname) {\n      setFullnameError(true);\n      setEmailError(false);\n      setPhoneError(false);\n      setPasswordError(false);\n      setEmailRegex(false);\n      return;\n    } else {\n      setFullnameError(false);\n      setPhoneError(false);\n      setPasswordError(false);\n      setFullnameError(false);\n      setEmailRegex(false);\n\n      if (!email) {\n        setFullnameError(false);\n        setEmailError(true);\n        setPhoneError(false);\n        setPasswordError(false);\n        return;\n      } else {\n        setEmailError(false);\n        setPhoneError(false);\n        setPasswordError(false);\n        setFullnameError(false);\n\n        if (!validateEmail(email)) {\n          setEmailRegex(true);\n          setFullnameError(false);\n          setEmailError(false);\n          setPhoneError(false);\n          setPasswordError(false);\n          return;\n        } else {\n          setEmailRegex(false);\n\n          if (!password) {\n            setFullnameError(false);\n            setEmailError(false);\n            setPhoneError(false);\n            setPasswordError(true);\n            return;\n          } else {\n            setFullnameError(false);\n            setPhoneError(false);\n            setPasswordError(false);\n            setFullnameError(false);\n            setEmailRegex(false);\n\n            if (!phone) {\n              setFullnameError(false);\n              setEmailError(false);\n              setPhoneError(true);\n              setPasswordError(false);\n            } else {\n              console.log(\"Thanh Cong\");\n\n              const SignUp = async () => {\n                fetch(\"http://localhost:3500/api/auth/signup\", {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  },\n                  credentials: \"same-origin\",\n                  body: JSON.stringify({\n                    userName: fullname,\n                    email: email,\n                    password: password,\n                    phone: phone\n                  })\n                }).then(res => {\n                  return res.json;\n                }).then(data => {\n                  console.log(\"data-->\", data);\n\n                  if (!!data) {\n                    alert(\"Sign up successs!\"); // Hàm này dùng để tạo các conversation cho user và admin\n\n                    const postConversation = async () => {\n                      console.log(\"email-->\", email);\n                      const params = {\n                        email: email //   password: password,\n\n                      };\n                      const query = \"?\" + queryString.stringify(params);\n                      const response = await MessengerAPI.postConversation(query);\n                      console.log(\"response-->\", response);\n                    };\n\n                    postConversation();\n                  }\n\n                  setSuccess(true);\n                }).catch(error => {\n                  console.log(error);\n                }); // const params = {\n                //   fullname: fullname,\n                //   email: email,\n                //   password: password,\n                //   phone: phone,\n                // };\n                // const query = \"?\" + queryString.stringify(params);\n                // const response = await UserAPI.postSignUp(query);\n                // console.log(\"response-->\", response);\n              };\n\n              SignUp(); // if (success === true) {\n              //   alert(\"Sign up successs!\");\n              //   // Hàm này dùng để tạo các conversation cho user và admin\n              //   const postConversation = async () => {\n              //     console.log(\"email-->\", email);\n              //     const params = {\n              //       email: email,\n              //       //   password: password,\n              //     };\n              //     const query = \"?\" + queryString.stringify(params);\n              //     const response = await MessengerAPI.postConversation(query);\n              //     console.log(response);\n              //   };\n              //   postConversation();\n              // }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function validateEmail(email) {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"limiter\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-login100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-login100 p-l-55 p-r-55 p-t-65 p-b-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"login100-form-title p-b-33\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center pb-5\",\n          children: [errorFullname && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"* Please Check Your Full Name!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), errorEmail && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"* Please Check Your Email!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), emailRegex && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"* Incorrect Email Format\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), errorPassword && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"* Please Check Your Password!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), errorPhone && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"* Please Check Your Phone Number!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrap-input100 validate-input\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input100\",\n            value: fullname,\n            onChange: onChangeName,\n            type: \"text\",\n            placeholder: \"Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrap-input100 rs1 validate-input\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input100\",\n            value: email,\n            onChange: onChangeEmail,\n            type: \"text\",\n            placeholder: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrap-input100 rs1 validate-input\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input100\",\n            value: password,\n            onChange: onChangePassword,\n            type: \"password\",\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrap-input100 rs1 validate-input\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input100\",\n            value: phone,\n            onChange: onChangePhone,\n            type: \"text\",\n            placeholder: \"Phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-login100-form-btn m-t-20\",\n          children: [success && /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/signin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"login100-form-btn\",\n            onClick: handlerSignUp,\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-t-45 p-b-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"txt1\",\n            children: \"Login?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/signin\",\n            className: \"txt2 hov1\",\n            children: \"Click\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignUp, \"LHx0AwGiB0GtOeFcHjcbunk9x5Q=\");\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["/Users/tan/Desktop/FUNiX/Môn 5/Assignment/ASM3/ASM3 Front-end/src/Authentication/SignUp.jsx"],"names":["React","useState","Link","Redirect","UserAPI","queryString","MessengerAPI","SignUp","propTypes","props","fullname","setFullName","email","setEmail","password","setPassword","phone","setPhone","errorEmail","setEmailError","emailRegex","setEmailRegex","errorPassword","setPasswordError","errorFullname","setFullnameError","errorPhone","setPhoneError","success","setSuccess","onChangeName","e","target","value","onChangeEmail","onChangePassword","onChangePhone","handlerSignUp","preventDefault","validateEmail","console","log","fetch","method","headers","credentials","body","JSON","stringify","userName","then","res","json","data","alert","postConversation","params","query","response","catch","error","re","test","String","toLowerCase"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport UserAPI from \"../API/UserAPI\";\nimport \"./Auth.css\";\nimport queryString from \"query-string\";\nimport MessengerAPI from \"../API/MessengerAPI\";\n\nSignUp.propTypes = {};\n\nfunction SignUp(props) {\n  const [fullname, setFullName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n\n  const [errorEmail, setEmailError] = useState(false);\n  const [emailRegex, setEmailRegex] = useState(false);\n  const [errorPassword, setPasswordError] = useState(false);\n  const [errorFullname, setFullnameError] = useState(false);\n  const [errorPhone, setPhoneError] = useState(false);\n\n  const [success, setSuccess] = useState(false);\n\n  const onChangeName = (e) => {\n    setFullName(e.target.value);\n  };\n\n  const onChangeEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const onChangePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const onChangePhone = (e) => {\n    setPhone(e.target.value);\n  };\n\n  const handlerSignUp = (e) => {\n    e.preventDefault();\n\n    if (!fullname) {\n      setFullnameError(true);\n      setEmailError(false);\n      setPhoneError(false);\n      setPasswordError(false);\n      setEmailRegex(false);\n      return;\n    } else {\n      setFullnameError(false);\n      setPhoneError(false);\n      setPasswordError(false);\n      setFullnameError(false);\n      setEmailRegex(false);\n\n      if (!email) {\n        setFullnameError(false);\n        setEmailError(true);\n        setPhoneError(false);\n        setPasswordError(false);\n        return;\n      } else {\n        setEmailError(false);\n        setPhoneError(false);\n        setPasswordError(false);\n        setFullnameError(false);\n\n        if (!validateEmail(email)) {\n          setEmailRegex(true);\n          setFullnameError(false);\n          setEmailError(false);\n          setPhoneError(false);\n          setPasswordError(false);\n          return;\n        } else {\n          setEmailRegex(false);\n\n          if (!password) {\n            setFullnameError(false);\n            setEmailError(false);\n            setPhoneError(false);\n            setPasswordError(true);\n            return;\n          } else {\n            setFullnameError(false);\n            setPhoneError(false);\n            setPasswordError(false);\n            setFullnameError(false);\n            setEmailRegex(false);\n\n            if (!phone) {\n              setFullnameError(false);\n              setEmailError(false);\n              setPhoneError(true);\n              setPasswordError(false);\n            } else {\n              console.log(\"Thanh Cong\");\n\n              const SignUp = async () => {\n                fetch(\"http://localhost:3500/api/auth/signup\", {\n                  method: \"POST\",\n                  headers: { \"Content-Type\": \"application/json\" },\n                  credentials: \"same-origin\",\n                  body: JSON.stringify({\n                    userName: fullname,\n                    email: email,\n                    password: password,\n                    phone: phone,\n                  }),\n                })\n                  .then((res) => {\n                    return res.json;\n                  })\n                  .then((data) => {\n                    console.log(\"data-->\", data);\n                    if (!!data) {\n                      alert(\"Sign up successs!\");\n                      // Hàm này dùng để tạo các conversation cho user và admin\n                      const postConversation = async () => {\n                        console.log(\"email-->\", email);\n                        const params = {\n                          email: email,\n                          //   password: password,\n                        };\n\n                        const query = \"?\" + queryString.stringify(params);\n\n                        const response = await MessengerAPI.postConversation(\n                          query\n                        );\n                        console.log(\"response-->\", response);\n                      };\n\n                      postConversation();\n                    }\n                    setSuccess(true);\n                  })\n                  .catch((error) => {\n                    console.log(error);\n                  });\n                // const params = {\n                //   fullname: fullname,\n                //   email: email,\n                //   password: password,\n                //   phone: phone,\n                // };\n\n                // const query = \"?\" + queryString.stringify(params);\n\n                // const response = await UserAPI.postSignUp(query);\n                // console.log(\"response-->\", response);\n              };\n              SignUp();\n\n              // if (success === true) {\n              //   alert(\"Sign up successs!\");\n              //   // Hàm này dùng để tạo các conversation cho user và admin\n              //   const postConversation = async () => {\n              //     console.log(\"email-->\", email);\n              //     const params = {\n              //       email: email,\n              //       //   password: password,\n              //     };\n\n              //     const query = \"?\" + queryString.stringify(params);\n\n              //     const response = await MessengerAPI.postConversation(query);\n              //     console.log(response);\n              //   };\n\n              //   postConversation();\n              // }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function validateEmail(email) {\n    const re =\n      /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  }\n\n  return (\n    <div className=\"limiter\">\n      <div className=\"container-login100\">\n        <div className=\"wrap-login100 p-l-55 p-r-55 p-t-65 p-b-50\">\n          <span className=\"login100-form-title p-b-33\">Sign Up</span>\n          <div className=\"d-flex justify-content-center pb-5\">\n            {errorFullname && (\n              <span className=\"text-danger\">\n                * Please Check Your Full Name!\n              </span>\n            )}\n            {errorEmail && (\n              <span className=\"text-danger\">* Please Check Your Email!</span>\n            )}\n            {emailRegex && (\n              <span className=\"text-danger\">* Incorrect Email Format</span>\n            )}\n            {errorPassword && (\n              <span className=\"text-danger\">* Please Check Your Password!</span>\n            )}\n            {errorPhone && (\n              <span className=\"text-danger\">\n                * Please Check Your Phone Number!\n              </span>\n            )}\n          </div>\n          <div className=\"wrap-input100 validate-input\">\n            <input\n              className=\"input100\"\n              value={fullname}\n              onChange={onChangeName}\n              type=\"text\"\n              placeholder=\"Full Name\"\n            />\n          </div>\n\n          <div className=\"wrap-input100 rs1 validate-input\">\n            <input\n              className=\"input100\"\n              value={email}\n              onChange={onChangeEmail}\n              type=\"text\"\n              placeholder=\"Email\"\n            />\n          </div>\n\n          <div className=\"wrap-input100 rs1 validate-input\">\n            <input\n              className=\"input100\"\n              value={password}\n              onChange={onChangePassword}\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          </div>\n\n          <div className=\"wrap-input100 rs1 validate-input\">\n            <input\n              className=\"input100\"\n              value={phone}\n              onChange={onChangePhone}\n              type=\"text\"\n              placeholder=\"Phone\"\n            />\n          </div>\n\n          <div className=\"container-login100-form-btn m-t-20\">\n            {success && <Redirect to={\"/signin\"} />}\n            <button className=\"login100-form-btn\" onClick={handlerSignUp}>\n              Sign Up\n            </button>\n          </div>\n\n          <div className=\"text-center p-t-45 p-b-4\">\n            <span className=\"txt1\">Login?</span>\n            &nbsp;\n            <Link to=\"/signin\" className=\"txt2 hov1\">\n              Click\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}