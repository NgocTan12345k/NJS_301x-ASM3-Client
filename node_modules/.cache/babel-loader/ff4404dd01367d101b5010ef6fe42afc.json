{"ast":null,"code":"const initalState = {\n  id_user: \"\",\n  listCart: []\n};\n\nconst ReducerCart = (state = initalState, action) => {\n  console.log(\"action-->\", action);\n\n  switch (action.type) {\n    //Nhận dữ liệu id_user và thay đổi state\n    case \"ADD_USER\":\n      console.log(\"id_user: \", action.idUser);\n      console.log(\"state-->\", state);\n      state = {\n        id_user: action.data.idUser,\n        listCart: state.listCart\n      };\n      return state;\n\n    case \"ADD_CART\":\n      console.log(\"add_cart\", action.data); //Lấy dữ liệu được truyền tới\n\n      const data_add_cart = action.data; //Lấy dữ liệu có sẵn trong state\n\n      const add_cart = state.listCart;\n\n      if (add_cart.length < 1) {\n        add_cart.push(data_add_cart);\n      } else {\n        //Tìm Vị Trí của sản phẩm đã mua\n        const indexCart = add_cart.findIndex(value => {\n          return value.idProduct === data_add_cart.idProduct;\n        }); //Tìm xem thử sản phẩm này đã mua hay chưa\n\n        const findCart = add_cart.find(value => {\n          return value.idProduct === data_add_cart.idProduct;\n        }); //Nếu này chưa được mua thì mình push vào\n        //Còn đã từng mua rồi thì mình update tại vị trí indexCart mà mình vừa tìm được\n\n        if (!findCart) {\n          add_cart.push(data_add_cart);\n          console.log(\"Push\");\n        } else {\n          add_cart[indexCart].count = parseInt(add_cart[indexCart].count) + parseInt(data_add_cart.count);\n          console.log(\"Update\");\n        }\n      }\n\n      state = {\n        id_user: state.id_user,\n        listCart: add_cart\n      };\n      console.log(\"state-->\", state);\n      return state;\n\n    case \"DELETE_CART\":\n      //Lấy dữ liệu được truyền tới\n      const data_delete_cart = action.data; //Lấy dữ diệu có sẵn trong state\n\n      const delete_cart = state.listCart; //Tìm kiểm vị trí mà cần xóa\n\n      const indexDelete = delete_cart.findIndex(value => {\n        return value.idProduct === data_delete_cart.idProduct;\n      }); //Xóa theo vị trí\n\n      delete_cart.splice(indexDelete, 1);\n      state = {\n        id_user: state.id_user,\n        listCart: delete_cart\n      };\n      return state;\n\n    case \"DELETE_ALL_CART\":\n      const data_delete_all_cart = action.data;\n      state = {\n        id_user: state.id_user,\n        listCart: data_delete_all_cart\n      };\n      return state;\n\n    case \"UPDATE_CART\":\n      const data_update_cart = action.data;\n      const update_cart = state.listCart;\n      const index = update_cart.findIndex(value => {\n        return value.idProduct === data_update_cart.idProduct;\n      });\n      update_cart[index].count = data_update_cart.count;\n      state = {\n        id_user: state.id_user,\n        listCart: update_cart\n      };\n      return state;\n\n    default:\n      return state;\n  }\n};\n\n_c = ReducerCart;\nexport default ReducerCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReducerCart\");","map":{"version":3,"sources":["/Users/tan/Desktop/FUNiX/Môn 5/Assignment/ASM3/ASM3 Front-end/src/Redux/Reducer/ReducerCart.jsx"],"names":["initalState","id_user","listCart","ReducerCart","state","action","console","log","type","idUser","data","data_add_cart","add_cart","length","push","indexCart","findIndex","value","idProduct","findCart","find","count","parseInt","data_delete_cart","delete_cart","indexDelete","splice","data_delete_all_cart","data_update_cart","update_cart","index"],"mappings":"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","sourcesContent":["const initalState = {\n  id_user: \"\",\n  listCart: [],\n};\n\nconst ReducerCart = (state = initalState, action) => {\n  console.log(\"action-->\", action);\n  switch (action.type) {\n    //Nhận dữ liệu id_user và thay đổi state\n    case \"ADD_USER\":\n      console.log(\"id_user: \", action.idUser);\n\n      console.log(\"state-->\", state);\n      state = {\n        id_user: action.data.idUser,\n        listCart: state.listCart,\n      };\n\n      return state;\n\n    case \"ADD_CART\":\n      console.log(\"add_cart\", action.data);\n\n      //Lấy dữ liệu được truyền tới\n      const data_add_cart = action.data;\n\n      //Lấy dữ liệu có sẵn trong state\n      const add_cart = state.listCart;\n\n      if (add_cart.length < 1) {\n        add_cart.push(data_add_cart);\n      } else {\n        //Tìm Vị Trí của sản phẩm đã mua\n        const indexCart = add_cart.findIndex((value) => {\n          return value.idProduct === data_add_cart.idProduct;\n        });\n\n        //Tìm xem thử sản phẩm này đã mua hay chưa\n        const findCart = add_cart.find((value) => {\n          return value.idProduct === data_add_cart.idProduct;\n        });\n\n        //Nếu này chưa được mua thì mình push vào\n        //Còn đã từng mua rồi thì mình update tại vị trí indexCart mà mình vừa tìm được\n        if (!findCart) {\n          add_cart.push(data_add_cart);\n          console.log(\"Push\");\n        } else {\n          add_cart[indexCart].count =\n            parseInt(add_cart[indexCart].count) + parseInt(data_add_cart.count);\n          console.log(\"Update\");\n        }\n      }\n\n      state = {\n        id_user: state.id_user,\n        listCart: add_cart,\n      };\n\n      console.log(\"state-->\", state);\n\n      return state;\n\n    case \"DELETE_CART\":\n      //Lấy dữ liệu được truyền tới\n      const data_delete_cart = action.data;\n\n      //Lấy dữ diệu có sẵn trong state\n      const delete_cart = state.listCart;\n\n      //Tìm kiểm vị trí mà cần xóa\n      const indexDelete = delete_cart.findIndex((value) => {\n        return value.idProduct === data_delete_cart.idProduct;\n      });\n\n      //Xóa theo vị trí\n      delete_cart.splice(indexDelete, 1);\n\n      state = {\n        id_user: state.id_user,\n        listCart: delete_cart,\n      };\n\n      return state;\n\n    case \"DELETE_ALL_CART\":\n      const data_delete_all_cart = action.data;\n\n      state = {\n        id_user: state.id_user,\n        listCart: data_delete_all_cart,\n      };\n\n      return state;\n\n    case \"UPDATE_CART\":\n      const data_update_cart = action.data;\n\n      const update_cart = state.listCart;\n\n      const index = update_cart.findIndex((value) => {\n        return value.idProduct === data_update_cart.idProduct;\n      });\n\n      update_cart[index].count = data_update_cart.count;\n\n      state = {\n        id_user: state.id_user,\n        listCart: update_cart,\n      };\n\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport default ReducerCart;\n"]},"metadata":{},"sourceType":"module"}